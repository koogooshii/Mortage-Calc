
<section class="bg-gray-900/30 p-4 rounded-lg">
  <h4 class="font-semibold mb-3 flex items-center gap-2">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-yellow-400">
      <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h12M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-12a2.25 2.25 0 0 1-2.25-2.25V3.75m16.5 0v16.5h-12c-1.24 0-2.25-1.01-2.25-2.25V3.75m1.5-1.5h12a2.25 2.25 0 0 1 2.25 2.25v12.75" />
      <path stroke-linecap="round" stroke-linejoin="round" d="M12 16.5v-3.75m0 3.75a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z" />
    </svg>
    AI Payment Strategy
  </h4>
  <div class="space-y-3">
    <p class="text-sm text-gray-300">
      Discover how switching to an accelerated payment schedule (e.g., bi-weekly) can help you pay off your mortgage years faster and save thousands in interest, without increasing your monthly budget.
    </p>
    <button
      (click)="findStrategy()"
      [disabled]="isLoading()"
      class="w-full px-4 py-2 font-semibold rounded-lg shadow-md transition-colors duration-200 flex items-center justify-center min-w-[120px]"
      [class]="'bg-' + color() + '-600 hover:bg-' + color() + '-700 disabled:bg-gray-600 disabled:cursor-not-allowed'"
    >
      @if (isLoading()) {
        <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-white"></div>
      } @else {
        <span>Analyze Payment Frequencies</span>
      }
    </button>
  </div>

  @if (suggestion()) {
    <div class="mt-4 pt-4 border-t border-gray-700 text-gray-300 leading-relaxed prose prose-invert max-w-none prose-strong:text-white">
      <p [innerHTML]="sanitizedSuggestion()"></p>
    </div>
  }
  @if(error()) {
    <div class="mt-4 pt-4 border-t border-gray-700 text-red-400">
        <p><strong>Error:</strong> {{ error() }}</p>
    </div>
  }
</section>